.container-fluid.profile
  %form{action: '/signup/complete-profile', method: :post}
    %input{type: :hidden, name: :authenticity_token, value: @csrf}
    .row
      .col-xs-12.col-sm-4{style: 'width: 270px;'}
        %p.image
          %img{alt: "image of #{@profile.name}", src: @profile.image}

        - if @profile.name
          %h2.name
            = @profile.name

        .divider
          %hr

        - if @profile.location
          .note-with-icon.location
            %span.fa.fa-map-marker
            = @profile.location

        -#.note-with-icon.github
          %span.fa.fa-github
          %a{href: "https://github.com/#{current_user.github.nickname}", rel: :external}<
            = current_user.github.nickname

        .note-with-icon.created
          %span.fa.fa-clock-o
          == Created #{current_user.created_at.strftime('%B %d, %Y')}

      .col-xs-12.col-sm-8.col-md-6
        .panel.panel-default
          .panel-heading
            %h3.panel-title
              Profile

          .panel-body
            - if @profile.name.empty?
              = haml :'partials/text_field', :locals => {value: @profile.location, placeholder: 'Location', id: 'location', name: 'user[location]', profile: @profile, control_label: :name, control_label_text: 'Name'}

            = haml :'partials/text_field', :locals => {value: @profile.location, placeholder: 'Location', id: 'location', name: 'user[location]', profile: @profile, control_label: :location, control_label_text: 'Location'}

  
            = haml :'/partials/text_area', :locals => {bio: @profile.bio, placeholder: 'Tell us about yourself, why you joined, and your goals.  This is an important part of being matched.  It will help us identify people who are a good fit.', control_label: :bio, control_label_text: 'Bio', profile: @profile}

                 

            .row
              .col-xs-12
                .form-group{class: ('has-error has-feedback' if @profile.errors.messages[:availability].present?)}
                  %label.control-label{for: :availability}<
                    Availability

                  .row
                    - Profile::AVAILABILITIES.each_slice(3).each do |array|
                      - array.each do |availability|
                        .col-xs-6
                          .radio
                            %label
                              =haml :'/partials/radio', :locals => {name: 'user[availability]', profile: @profile, iterator: availability}


            =haml :'partials/text_field', :locals => {value: @profile.skills, placeholder: 'Example: Ruby, Ruby, JavaScript, Angular, CSS', id: 'skill', name: :'user[skills]', control_label_text: 'Current Skills', control_label: :skills, profile: @profile}
          

            .actions.text-right
              %button.btn.btn-primary{type: :submit} Submit Profile
